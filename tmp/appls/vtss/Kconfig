#
# Vitesse Switches
#

menuconfig VTSS
	bool "Vitesse switch board support"
	default y
	help

if VTSS

config VTSS_ARCH_SPARX
	bool

config VTSS_ARCH_SPARX_28
	bool

config VTSS_ARCH_HEATHROW
	bool

choice
	prompt "Vitesse chip type selection"

config VTSS_GROCX
	bool "VSC7501 G-Roc'X"
	select VTSS_ARCH_SPARX
	select VTSS_ARCH_SPARX_28
	select VTSS_ARCH_HEATHROW
	select VTSS_ROUTER

endchoice

choice
	prompt "Vitesse board type selection"

config VTSS_BOARD_GROCX_REF
	bool "VSC7501 G-Roc'X Reference"

endchoice

config VTSS_VITGENIO
	bool "Enable Vitesse generic IO (vitgenio) support"
	default y

config VTSS_API
	bool "Enable Vitesse switch PHY API support"
	default y

config VTSS_FORCE_CPLD_MIIM
	bool "Configure to force CPLD MIIM ioctl"
	default n

config VTSS_PORT_COUNT
	int "Select number of ports"
	default 7 if VTSS_GROCX

config VTSS_ROUTER
	bool "Vitesse router-on-a-chip support"
	default y if VTSS_GROCX
	help
	  The router includes the following setup:
	    
	     +-------+
	     | Router|  
	     +-------+
	         | Router port(s)
	   +----------+
	   |  Switch  |      
	   +----------+
	    | | | |  | <-- WAN port (optional)  
	   (LAN ports)     
	 
	   By default, all ports are VLAN unaware and included in VLAN 1 only.
	   If an optional WAN port is specified, the following VLAN setup is
	   used:
	   - LAN ports in VLAN 1
	   - WAN port in VLAN 2
	   - Router port is in both VLANs and sends tagged frames.
	   - G-RocX: If a second router port is present, the first router port
	     is in VLAN 1 and the second router port is in VLAN 2. Both router
		 ports then send untagged frames.

if VTSS_ROUTER

config VTSS_ROUTER_PORT_FLOW_CONTROL
	bool "Select router port flow control mode"
	default y

config VTSS_ROUTER_PORT_WAN
	int "Select router WAN port"
	range 0 5
	default 1 if VTSS_GROCX
	default 0
	help
	  WAN port value:
	     0  : No WAN port is present
		 1-5: Selected port is WAN port

config VTSS_ROUTER_VLAN_LAN
	int "Select router LAN VLAN ID"
	range 1 4095
	default 1

config VTSS_ROUTER_VLAN_WAN
	int "Select router WAN VLAN ID"
	range 1 4095
	depends VTSS_ROUTER_PORT_WAN != 0
	default 2

config VTSS_ROUTER_PORT_5_IF
	bool "Enable GMII on chip port 5"
	depends VTSS_GROCX
	default n
	help
	  Set this to 'y' to enable GMII on chip port 5 on G-RocX
	  (default RGMII)

endif

config VTSS_MAC_NEXT_MAX
	int "Number of updated MAC table entries for get next traversal"
	range 0 65536
	default 1024
	help
	  Must be multiple of 4. The value zero means disabled

config VTSS_ACL
	bool "Enable ACL support"
	depends on VTSS_ARCH_HEATHROW
	default n

config VTSS_CPU_FRAME
	bool "Enable CPU frame extration / injection support"
	default n

config VTSS_EXTERNAL_CPU_VERIPHY
	bool "Enable external CPU VeriPHY"
	default y

config VTSS_USE_CPU_SI
	bool "Setup CPULD SPI interface"
	default n

config VTSS_REF_CLK_SINGLE_ENDED
	bool "Improve clock for single ended ref clock mode"
	default n

config VTSS_VERIPHY
	bool "VeriPHY process support for ports"
	default n

endif
